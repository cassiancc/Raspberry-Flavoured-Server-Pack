# Raspberry Flavoured - Server Pack

The server pack will stay updated to the latest version of Raspberry Flavoured. Currently, the server pack is for 3.0-pre4. This guide expects that you already know how to set up a vanilla server. If not, try the [tutorial on the Minecraft Wiki](https://minecraft.wiki/w/Tutorial:Setting_up_a_Java_Edition_server), or one of the many, many YouTube tutorials.

## Running a server with console access (packwiz-installer) (recommended)

If you are not using a hosting service and are able to use a system terminal to run `.bat` or `.sh` scripts, this is the best option for you.

1. Create a directory for your server. This should be different than your Minecraft folder.
1. Download my [server pack](https://asphodel.cc/resources/cf/Raspberry-Flavoured-3.0-pre4-Server-Pack.zip) and extract it to this server directory.
5. Run `update.sh` (Linux, MacOS) or `update.bat` (Windows) to download the modpack files and install Forge.
6. Run `run.sh` (Linux, MacOS) or `run.bat` (Windows) to start the server.
7. Connect like normal!

If you ever need to update the pack, just repeat the process by running `update.sh` or `update.bat` again.

## Running a server through a hosting provider (Packwiz Server Updater)

If you are using a hosting service, I backported the [Packwiz Server Updater](https://modrinth.com/mod/packwiz-server-updater) mod to Forge 1.19.2 for Raspberry Flavoured.

1. Set up a Forge 1.19.2 server through your preferred host. This will differ depending on your host.
2. Download my forks of [Packwiz Server Updater](https://github.com/cassiancc/packwiz-server-updater/releases/download/2.2.0%2Bforge-1.19.2/packwizsu-forge-2.2.0.jar) and [Mixin Transmogrifier](https://github.com/cassiancc/MixinTransmogrifier/releases/tag/0.4.6%2B1.19.2) for Forge 1.19.2, and upload them to your hosting provider via FTP/SFTP.
3. Run the server.
5. Run `packwiz update`. Wait for it to finish downloading, and shut down the server.
6. Remove the `world` folder that was generated by vanilla Minecraft.
7. Launch the server normally.
8. Connect like normal!

If you ever need to update the pack, just repeat the process by running `packwiz update` again.

## Running a server through Docker (Docker Minecraft Server)

[Docker Minecraft Server](https://docker-minecraft-server.readthedocs.io/en/latest/) has native support for modpacks distributed via Packwiz. Assuming you have Docker installed, you can run the following command to automatically download and run a Raspberry Flavoured server.

```bash
docker run -d -v /path/on/host:/data -e TYPE=FORGE -e EULA=TRUE \
    -e "PACKWIZ_URL=https://asphodel.cc/packwiz/Ports/Curse/Raspberry-Server/pack.toml" \
    itzg/minecraft-server
```

From there, the server will launch normally and you can connect like normal. For more information, see the docs for [Docker Minecraft Server](https://docker-minecraft-server.readthedocs.io/en/latest/mods-and-plugins/packwiz/). Please note that at this point, no one has tested Raspberry Flavoured in a Docker instance, so support for this setup will be limited.

## Other
Both the server update scripts and the update command do the same thing, so its safe to mix and match as necessary (e.g., if you created the server with console access and uploaded it to a hosting provider, you can run the server update command after installing the needed mods and running the `packwiz link` command in the instructions above.).

## Where's my run script?
If `run.bat` and `run.sh` are not generated automatically by the update script, you'll need to download and run the [MinecraftForge](https://maven.minecraftforge.net/net/minecraftforge/forge/1.19.2-43.4.12/forge-1.19.2-43.4.12-installer.jar) server installer. I'd recommend pointing the installer at an empty folder, and then copy and pasting the files it downloads into your existing Raspberry Flavoured server directory.

## Why can't it find user_jvm_args.txt?

This error is usually only seen when the server does not have Java 17 or above installed. Minecraft 1.18 and above require Java 17, so you'll need to install an [updated version of Java](https://adoptium.net/) to be able to run the server. The latest release will work, currently this is Java 21. Make sure you check the box to update the JAVA_HOME environment variable when you install, or it might default to an older version of Java.

## I'm using a hosting provider, but the command fails saying it can't find Java?

Some server hosts restrict access to Java. I haven't yet found a workaround for this, so you'll need to run the setup locally (see the first section), zip everything up, and upload the results to a hosting provider. 
